# 기본 문법

## 목차

1. JPQL vs Querydsl
2. 기본 Q-Type 활용
3. 검색 조건 쿼리
4. 결과 조회
5. 정렬
6. 페이징
7. 집합
8. 조인 - 기본조인
9. 조인 - on 절
10. 조인 - 페치 조인
11. 서브 쿼리
12. Case 문
13. 상수, 문자 더하기

------



## 1. JPQL vs Querydsl

- JPQL은 `setParameter`로 파라미터 바인딩을 해주어야 하지만 Querydsl은 `.eq()`을 통해 바인딩 처리가 된다.
- JPQL은 String을 사용하기 때문에 컴파일 타임에 오류를 확인할 수 없다.
- Querydsl은 컴파일 타임에 오류를 잡아준다.

### JPQL

```java
@Test
public void startJPQL() {
    String query = "select m from Member m where m.username = :username";
    Member findMember = em.createQuery(query, Member.class)
            .setParameter("username", "member1")
            .getSingleResult();

    assertThat(findMember.getUsername()).isEqualTo("member1");
}
```

### Querydsl

```java
@Test
public void startQuerydsl() {
    JPAQueryFactory queryFactory = new JPAQueryFactory(em);
    QMember m = QMember.member;

    Member findMember = queryFactory.selectFrom(m)
            .where(m.username.eq("member1"))
            .fetchOne();

    assertThat(findMember.getUsername()).isEqualTo("member1");
}
```



## 2. 기본 Q-Type 활용

### Q클래스 인스턴스는 사용하는 방법

```java
QMember qMember = new QMember("m"); // 별칭 직접 지정
QMember qMember = QMember.member; // 기본 인스턴스 사용
```

- 기본 인스턴스를 사용하는 경우 아래와 같이 더 깔끔하게 표현할 수 있다.

```java
import static study.querydsl.entity.QMember.*;

@Test
public void startQuerydsl() {
	Member findMember = queryFactory.selectFrom(member)
					.where(member.username.eq("member1"))
					.fetchOne();
	
	assertThat(findMember.getUsername()).isEqualTo("member1");
}
```

- 참고: 같은 테이블을 조인하는 것이 아니라는 기본 인스턴스를 사용하자.



## 3. 검색 조건 쿼리

## 4. 결과 조회

## 5. 정렬

## 6. 페이징

## 7. 집합

## 8. 조인 - 기본 조인

## 9. 조인 - on 절

## 10. 조인 - 페치 조인

## 11. 서브 쿼리

## 12. Case 문

## 13. 상수, 문자 더하기